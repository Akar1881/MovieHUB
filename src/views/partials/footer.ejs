</main>
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>About <%= config.site.name %></h3>
                    <p><%= config.site.description %></p>
                </div>
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="/movies">Movies</a></li>
                        <li><a href="/tvshows">TV Shows</a></li>
                        <% if (!user) { %>
                            <li><a href="/auth/login">Login</a></li>
                            <li><a href="/auth/register">Register</a></li>
                        <% } %>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; <%= new Date().getFullYear() %> <%= config.site.name %>. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Search functionality
        const searchIcon = document.getElementById('searchIcon');
        const searchBar = document.getElementById('searchBar');
        const searchInput = document.getElementById('searchInput');
        const movieResults = document.getElementById('movieResults');
        const tvshowResults = document.getElementById('tvshowResults');

        searchIcon.addEventListener('click', () => {
            searchBar.classList.toggle('active');
        });

        document.addEventListener('click', (e) => {
            if (!searchBar.contains(e.target) && e.target !== searchIcon) {
                searchBar.classList.remove('active');
            }
        });

        let searchTimeout;
        searchInput.addEventListener('input', (e) => {
            clearTimeout(searchTimeout);
            searchTimeout = setTimeout(() => {
                const query = e.target.value.trim();
                if (query.length >= 2) {
                    fetch(`/api/search?q=${encodeURIComponent(query)}`)
                        .then(res => res.json())
                        .then(data => {
                            // Update movie results
                            movieResults.innerHTML = data.movies.length ? 
                                data.movies.map(movie => `
                                    <div class="search-result">
                                        <a href="/movies/${movie.id}">${movie.title}</a>
                                    </div>
                                `).join('') : 
                                '<p>No movies found</p>';

                            // Update TV show results
                            tvshowResults.innerHTML = data.tvshows.length ?
                                data.tvshows.map(tvshow => `
                                    <div class="search-result">
                                        <a href="/tvshows/${tvshow.id}">${tvshow.title}</a>
                                    </div>
                                `).join('') :
                                '<p>No TV shows found</p>';
                        });
                }
            }, 300);
        });
    </script>
</body>
</html>